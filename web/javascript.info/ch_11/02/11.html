<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>11</title>
    <script type="text/javascript"> 
    window.onload = function() {
        function loadScript(src) {
            return new Promise(function(resolve, reject) {
                let script = document.createElement('script');
                script.src = src;

                script.onload = () => resolve(script);
                script.onerror = 
                    () => reject(new Error(`Script load for ${src}`));

                document.head.append(script);
            });
        }

        let promise = loadScript(
            "https://cdnjs.cloudflare.com/ajax/libs/lodash.js/4.17.11/lodash.js");

        promise.then(
            script => alert(`${script.src} is loaded!`),
            error => alert(`Error: ${error.message}`)
        );

        promise.then(script => alert('Another handler...'));
    }
    </script>
</head>
<body></body>
</html>
