<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>03</title>
    <script type="text/javascript"> 
    window.onload = function() {
        async function showAvatar() {
            let response = await fetch(
                'https://javascript.info/article/promise-chaining/user.json');
            let user = await response.json();
 
            let githubResponse = await fetch(`https://api.github.com/users/${user.name}`);
            let githubUser = await githubResponse.json();

            let img = document.createElement('img');
            img.src = githubUser.avatar_url;
            img.className = "promise-avatar-example";
            document.body.append(img);
 
            await new Promise((resolve, reject) => setTimeout(resolve, 3000));

            img.remove();

            return githubUser;
            
        }

        showAvatar();
    }
    </script>
</head>
<body></body>
</html>
