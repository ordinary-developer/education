<html>

<head>
    <meta http-quiv="Content-Type" content="text/html; charset=utf-8" />
    <title>07_ex</title>
    
    <script type="text/javascript">
    window.onload = function() {
        const baseMode = false;
        
        baseMode ? main() : mainEx();
    }
    
    function main() {
        new Promise((resolve, reject) => {
            setTimeout(() => resolve("value"), 100);
        })
        .finally(() => alert("Promise ready"))
        .then(result => alert(result));
    }
    
    function mainEx() {
        func01();
        func02();
        func03();
        func04();
        func05();
        func06();
        func07();
        func08();
    }
    
    function func01() {
        new Promise((resolve, reject) => {
            setTimeout(() => resolve("value 01"), 100);
        })
        
        .finally(() => console.log("promise is ready 01"))
        .then(val => console.log(val));
    }
    
    function func02() {
        new Promise((resolve, _) => { setTimeout(() => resolve("value 02"), 100); })
        
        .finally(() => console.log("promise is ready 02"))
        .then(val => console.log(val));
    }
    
    function func03() {
        new Promise(resolve => { setTimeout(() => resolve("value 03"), 100); })
        
        .finally(() => console.log("promise is ready 03"))
        .then(val => console.log(val));
    }
    
    function func04() {
        new Promise(resolve => setTimeout(() => resolve("value 04"), 100))
        
        .finally(() => console.log("promise is ready 04"))
        .then(val => console.log(val));
    }
    
    function func05() {
        new Promise(resolve => setTimeout(resolve, 100, "value 05"))
        
        .finally(() => console.log("promise is ready 05"))
        .then(val => console.log(val));
    }
    
    function func06() {
        new Promise(resolve => setTimeout(resolve, 100, "value 06"))
        
        .finally(() => console.log("promise is ready 06"))
        .then(console.log);
    }
    
    function func07() {
        new Promise(resolve => setTimeout(resolve, 100, "value 07"))
        
        .finally(() => { throw new Error("Error in finally 07"); })
        .then(console.log)
        .catch(err => console.log(err));
    }
    
    function func08() {
        new Promise(resolve => setTimeout(resolve, 100, "value 08"))
        
        .finally(() => { throw new Error("Error in finally 08"); })
        .then(console.log)
        .catch(console.log);
    }
    
    </script>
    
</head>

<body></body>

</html>
